"use strict";(self.webpackChunktraining_s_n=self.webpackChunktraining_s_n||[]).push([[33],{9033:function(e,s,a){a.r(s),a.d(s,{default:function(){return D}});var n=a(5282),r=(a(2791),"Messages_container__ugBGh"),i=a(1523),t={wrapper:"Dialog_wrapper__hyUsl",avatar:"Dialog_avatar__hVFBi",info:"Dialog_info__9BHl-"},d=a(184),c=function(e){return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(i.OL,{to:"".concat(e.id),className:t.link,children:(0,d.jsxs)("div",{className:t.wrapper,children:[(0,d.jsx)("div",{className:t.avatar,children:(0,d.jsx)("img",{src:e.avatarLink,alt:"avatar"})}),(0,d.jsxs)("div",{className:t.info,children:[(0,d.jsx)("h3",{children:e.name}),(0,d.jsx)("div",{children:e.lastMessage})]})]})})})},l="DialogsList_container__9Tc6l",g=function(e){var s=e.dialogs.map((function(e){return(0,d.jsx)(c,{id:e.id,name:e.name,lastMessage:e.lastMessage,avatarLink:e.avatarLink},e.id)}));return(0,d.jsx)("div",{className:l,children:s})},u=a(9271),m="Messanger_container__2ioT9",o="Messanger_messages__AL8d6",_="Messanger_addMessage__+M8J2",h="Messanger_Button__-AgVb",j="Message_container__ZSpnn",v="Message_active__PZed3",x=function(e){return(0,d.jsx)("div",{className:e.userId===e.authId?j+" "+v:j,children:e.message})},f=a(6139),M=a(704),N=a(6882),b=a(364),p={messangerHeader:"MessangerHeader_messangerHeader__JObfd",avatar:"MessangerHeader_avatar__3Fx6j",name:"MessangerHeader_name__JP-w2",backButton:"MessangerHeader_backButton__jUo8V"},k=function(e){var s=(0,b.v9)((function(e){return e.messagesPage.dialogs})).filter((function(s){return s.id===e.dialogId}))[0];return(0,d.jsxs)("header",{className:p.messangerHeader,children:[(0,d.jsx)(i.OL,{to:"dialogs",className:p.link,children:(0,d.jsx)("div",{className:p.backButton})}),(0,d.jsx)("figure",{className:p.avatar,children:(0,d.jsx)("img",{src:s.avatarLink,alt:"avatar"})}),(0,d.jsx)("h3",{className:p.name,children:s.name})]})},L=(0,M.Z)({form:"messanger"})((function(e){return(0,d.jsx)("div",{className:_,children:(0,d.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,d.jsx)(f.Z,{name:"message",component:"textarea",placeholder:"New message...",validate:[N.C1]}),(0,d.jsx)("div",{className:h,children:(0,d.jsx)("button",{children:"Submit"})})]})})})),I=(0,b.$j)((function(e){return{messages:e.messagesPage.messages,authId:e.auth.id}}),{})((function(e){var s=(0,u.UO)().id;s=Number(s);var a=e.messages.filter((function(e){return e.dialogId===s})).map((function(s){return(0,d.jsx)(x,{userId:s.userId,authId:e.authId,message:s.message},String(s.id))}));return(0,d.jsxs)("div",{className:m,children:[(0,d.jsx)(k,{dialogId:s}),(0,d.jsx)("div",{className:o,children:a}),(0,d.jsx)(L,{onSubmit:function(a){e.sendMessage(a.message,e.authId,s),e.setLastMessage(s,a.message),e.reset("messanger")}})]})})),H=function(e){return"dialogs"===(0,u.UO)().id?(0,d.jsx)(g,{dialogs:e.dialogs}):(0,d.jsx)("div",{className:r,children:(0,d.jsx)(I,{setLastMessage:e.setLastMessage,sendMessage:e.sendMessage,reset:e.reset})})},w=a(7781),B=a(1468),S=a(2381),D=(0,w.qC)((0,b.$j)((function(e){return{dialogs:e.messagesPage.dialogs}}),{sendMessage:n.bG,setLastMessage:n.MQ,reset:S.mc}),B.D)(H)}}]);
//# sourceMappingURL=33.3d7dc179.chunk.js.map